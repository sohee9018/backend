<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="style.css"
</head>
<body>
    <nav id="nav">
        <h1>GREEN</h1>
        <ul>
            <li class="active"><a href="#section1">menu1</a></li> <!-- 하이퍼링크 기능 -->
            <li><a href="#section2">menu2</a></li>
            <li><a href="#section3">menu3</a></li>
            <li><a href="#section4">menu4</a></li>
            <li><a href="#section5">menu5</a></li>
            <li><a href="#section6">menu6</a></li>
        </ul>
        <a href="#" class="navBtn">Open</a>
    </nav>

    <div id="contents">
        <div id="section1">
            <h2> 1.가랑잎이 솔잎더러 <br>바스락거린다고 한다.</h2>
        </div>
        <div id="section2">
            <h2> 2.간에 붙었다 쓸개에 <br>붙었다 한다.</h2>
        </div>
        <div id="section3">
            <h2> 3.개구리 올챙이 적 <br>생각을 못한다.</h2>
        </div>
        <div id="section4">
            <h2>  4.구슬이 서 말이라도 <br>꿰어야 보배</h2>
        </div>
        <div id="section5">
            <h2> 5.까마귀 날자 배 떨어진다.</h2>
        </div>
        <div id="section6">
            <h2> 6.낮말은 새가 듣고 <br>밤말은 쥐가 듣는다.</h2>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script>
        var nav= $('#nav ul li');
        var cont= $('#contents>div');

        nav.click(function(e){ //function 문을 이벤트 핸들러
            e.preventDefault();
            var target = $(this); //내가 클릭한 것
            console.log(target);
            var index = target.index(); //li의 번호(색인번호)를 뽑아내는 것
            // zero-base 컴퓨터는 숫자를 0부터 계산 

            var section = cont.eq(index);

            var offset = section.offset().top

            console.log(offset);

            //A.animate({실행문}, 시간)
            //A.animate({실행문}, 시간, 이징)
            //이징 https://jqueryui.com/
            $('html, body').animate({
                scrollTop:offset
            },600,'easeOutBounce');
        }); /* nav를 클릭하면 function 기능이 일어난다 */
            //스크롤을 움직이면
            $(window).scroll(function(){
                //스크롤의 top값을 이용
                var wScroll = $(this).scrollTop();
                //여기서 $(this)는 window를 의미한다.
                console.log(wScroll)

                /* if(조건문){
                    조건문이 만족하면 실행됨
                } */

                if(wScroll >=cont.eq(0).offset().top){
                    //nav의 모든 active라는 클래스명을 지워라
                    nav.removeClass('active');
                    nav.eq(0).addClass('active')
                }
                if(wScroll >=cont.eq(1).offset().top){
                    nav.removeClass('active');
                    nav.eq(1).addClass('active')
                }
                if(wScroll >=cont.eq(2).offset().top){
                    nav.removeClass('active');
                    nav.eq(2).addClass('active')
                }
                if(wScroll >=cont.eq(3).offset().top){
                    nav.removeClass('active');
                    nav.eq(3).addClass('active')
                }
                if(wScroll >=cont.eq(4).offset().top){
                    nav.removeClass('active');
                    nav.eq(4).addClass('active')
                }
                if(wScroll >=cont.eq(5).offset().top){
                    nav.removeClass('active');
                    nav.eq(5).addClass('active')
                }
            });

            // 사이드 메뉴
            $('.navBtn').click(function(){
                $('#nav').toggleClass('open');

                /* .hasClass('open') 
                ==> open클래스를 가지고 있는가?
                가지고 있으면 true 
                가지고 있지 않다면 flase */
                // if(조건문){실행문-조건이 만족(true)하면 실행}
                /* if(조건문){
                    조건문이 참일 때 실행됨
                }else{
                    조건문이 거짓일 때 실행됨
                } */
                /* if(배가고픈가){
                    배가 고프면(true) 실행
                }else{
                    배가 안고프면(false) 실행
                } */

                if($('#nav').hasClass('open')){
                    // $('#nav').animate({실행문},시간);
                    $('#nav').animate({left:'0px'},200);
                    $('.navBtn').text("close")
                }else{
                    $('#nav').animate({left:'-300px'},200);
                    $('.navBtn').text("open")
                }
            });


    </script>
</body>
</html>